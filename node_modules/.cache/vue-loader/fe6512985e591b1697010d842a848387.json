{"remainingRequest":"/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/src/App.vue?vue&type=style&index=0&id=7ba5bd90&scoped=true&lang=css","dependencies":[{"path":"/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/src/App.vue","mtime":1608749858187},{"path":"/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5mb3JtLWNvbnRhaW5lciB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47Cn0K"},{"version":3,"sources":["/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/src/App.vue"],"names":[],"mappings":";AA6JA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB","file":"/home/btunar/Desktop/assignment-3-bookmark-application-components-axios-baristunar/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <header>Bookmark App</header>\n\n    <addition-side\n      :bookmark=\"bookmark\"\n      @send-data-event=\"saveData\"\n      :updateStatus=\"updateStatus\"\n    />\n    <bookmark-container\n      :bookmarkList=\"bookmarkList\"\n      @delete-data-event=\"deleteData\"\n      :updateID=\"updateID\"\n      :updateStatus=\"updateStatus\"\n      @update-item-event=\"updateItem\"\n      :bookmark=\"bookmark\"\n      @cancel-update-event=\"cancelUpdate\"\n      @update-data-event=\"updateData\"\n    />\n  </div>\n</template>\n\n<script>\nimport additionSide from \"../components/additionSide.vue\";\nimport bookmarkContainer from \"../components/bookmarkContainer.vue\";\n\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    additionSide,\n    bookmarkContainer,\n  },\n\n  data() {\n    return {\n      bookmarkList: [],\n      bookmark: {\n        title: null,\n        description: null,\n        url: null,\n        updateStatus: false,\n      },\n      updateID: null,\n      updateStatus: false,\n    };\n  },\n  methods: {\n    saveData() {\n      axios\n        .post(\"http://localhost:3000/bookmarks\", this.bookmark)\n        .then((bookmark_save_response) => {\n          console.log(\"bookmark_save_response\", bookmark_save_response);\n          // Created...\n          if (bookmark_save_response.status === 201) {\n            this.bookmarkList.push(bookmark_save_response.data);\n            this.bookmark = {\n              title: null,\n              description: null,\n              url: null,\n              updateStatus: false,\n            };\n          }\n        });\n    },\n    deleteData(id) {\n      axios\n        .delete(`http://localhost:3000/bookmarks/${id}`)\n        .then((bookmark_delete_response) => {\n          console.log(\"bookmark_delete_response\", bookmark_delete_response);\n          this.bookmarkList = this.bookmarkList.filter((b) => b.id !== id);\n        });\n    },\n    updateData() {\n      axios\n        .patch(\n          `http://localhost:3000/bookmarks/${this.updateID}`,\n          this.bookmark\n        )\n        .then((update_response) => {\n          const matchedBookmark = this.bookmarkList.findIndex(\n            (b) => b.id === this.updateID\n          );\n          const getTrue = this.bookmarkList.findIndex(\n            (b) => b.updateStatus == true\n          );\n          this.bookmarkList[getTrue].updateStatus = false;\n          if (matchedBookmark > -1) {\n            this.bookmarkList[matchedBookmark] = {\n              ...this.bookmark,\n            };\n\n            this.updateStatus = false;\n            this.updateID = null;\n            this.bookmark = {\n              title: null,\n              description: null,\n              url: null,\n              updateStatus: false,\n            };\n            console.log(\n              \"updateStatus => \",\n              this.updateStatus,\n              \"updateID=>\",\n              this.updateID\n            );\n          }\n        });\n    },\n    updateItem(bookmark_item) {\n      console.log(\"bookmark\", bookmark_item);\n      bookmark_item.updateStatus = true;\n\n      this.bookmark = {\n        title: bookmark_item.title,\n        description: bookmark_item.description,\n        url: bookmark_item.url,\n      };\n\n      this.updateID = bookmark_item.id;\n      this.updateStatus = true;\n      console.log(\n        \"updateStatus => \",\n        this.updateStatus,\n        \"updateID=>\",\n        this.updateID\n      );\n    },\n    cancelUpdate() {\n      const getTrue = this.bookmarkList.findIndex(\n        (b) => b.updateStatus == true\n      );\n      this.bookmarkList[getTrue].updateStatus = false;\n      this.updateStatus = false;\n      this.bookmark = {\n        title: null,\n        description: null,\n        url: null,\n        updateStatus: false,\n      };\n    },\n  },\n  created() {\n    axios\n      .get(\"http://localhost:3000/bookmarks\")\n      .then((bookmark_response) => {\n        console.log(\"bookmark_response \", bookmark_response);\n        this.bookmarkList = bookmark_response.data;\n      })\n      .catch((e) => {\n        console.log(\"Error\", e);\n      });\n  },\n};\n</script>\n\n<style scoped>\n.form-container {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n}\n</style>\n"]}]}